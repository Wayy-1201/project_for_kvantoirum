<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –¥–ª—è 3D-–ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤</title>
    <link rel="icon" href="sas.png">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        ::selection {
            background-color: #6366f1;
            color: white;
        }
        *::-webkit-scrollbar{
            width: 8px;
        }
        *::-webkit-scrollbar-thumb{
            background-color: rgb(255, 255, 255);
        }
        *::-webkit-scrollbar-track{
            background: radial-gradient(ellipse at bottom, #163049 0%, #000000 150%);
        }

        body {
            background: radial-gradient(ellipse at bottom, #163049 0%, #000000 150%);
            min-height: 100vh;
            background-size: 100% 100%;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            max-width: 1500px;
            margin: 0 auto;
            padding: 0 20px;
            flex: 1;
            width: 100%;
        }

        header {
            background: rgba(23, 37, 51, 0.9);
            backdrop-filter: blur(10px);
            color: rgb(255, 255, 255);
            padding: 1rem 0;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        nav {
            width: 100%;
            display: flex;
            justify-content: space-between; 
            align-items: center;
            padding: 0 20px;
            flex-wrap: wrap;
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
            position: relative;
            isolation: isolate;
        }
        .nav-links a.active::before {
            content: "";
            position: absolute;
            inset: 0;
            background-image: linear-gradient(to right, #6111cb 0%, #2575fc 100%);
            z-index: -1;
            border-radius: 0.75rem;
        }
        
        .auth-section {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }
        
        .btn {
            padding: 10px 23px;
            border: none;
            background-color: rgb(255, 255, 255);
            color: rgb(0, 0, 0);
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 650;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: #ffffff;
            color: rgb(0, 0, 0);
            margin-left: 7px;
            transition: 0.3s ease;
            margin-right: 7px;
        }

        .btn-primary2{
            background: linear-gradient(45deg , #fff 0% , #002999 80%);
            transition: 0.3s ease-in;
            color: white;
        }
        .btn-primary2:hover{
            transform: scale(1.01);
        }

        .btn-primary:hover {
            background-color: #2980b9;
            color: white;
        }
        
        .btn-secondary {
            background-color: #e74c3c;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #c0392b;
        }
        
        .btn-success {
            background-color: #2ecc71;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-warning {
            background-color: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .form-container {
            max-width: 400px;
            margin: 50px auto;
            padding: 30px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            width: 90%;
        }
        
        .form-container h2 {
            margin-bottom: 20px;
            text-align: center;
            color: #2c3e50;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .form-footer {
            text-align: center;
            margin-top: 20px;
        }
        
        .form-footer a {
            color: #3498db;
            text-decoration: none;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        .hidden {
            display: none !important;
        }

        #guest-content {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 65vh;
            text-align: center;
            transition: 0.3s ease;
        }

        .user-info {
            width: 100%;
            max-width: 850px;
            text-align: center;
            padding: 40px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            display: block;
            transition: 0.2s ease;
            justify-content: center;
        }
        .user-info2{
            background-color: white;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            height: auto;
            min-height: 200px;
            margin-top:  60px;
            padding: 40px;
            border-left: 5px solid blue;
            text-align: center;

        }
        
        b {
            background: linear-gradient(135deg, #999999 0%, #0051ff 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
            padding: 0.2em 0.5em;
        }

        .for_guests {
            font-weight: 700;
            color: #5c5c5c;
            letter-spacing: 1px;
            margin-top: 10px;
        }
        .Info_for_plusik{
            width: 100%;
            display: flex;
            margin-top: 50px;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }
        .primer1 , .primer2 , .primer3{
            color: white;
            font-weight: bold;
            letter-spacing: 1px;
            font-size: 22px;
            display: flex;
            align-items: end;
            padding: 30px;
            justify-content: center;
            backdrop-filter: blur(200px);
            border-radius: 10px;
            border: 1px solid white;
            width: 250px;
            height: 250px;
            transition: 0.3s ease-in-out;
            cursor: pointer;
        }
        .primer1::before{
            content: "‚ö°";
            position: absolute;
            top: 30px;
            left: 50%; 
            transform: translateX(-50%);
            font-size: 30px;
        }
        .primer2::before{
            content: "ü•á";
            position: absolute;
            top: 30px;
            left: 50%; 
            transform: translateX(-50%);
            font-size: 30px;
        }
        .primer3::before{
            content: "üîê";
            position: absolute;
            top: 30px;
            left: 50%; 
            transform: translateX(-50%);
            font-size: 30px;
        }
        .primer1:hover , .primer2:hover , .primer3:hover{
            transform: scale(1.05);
            box-shadow: 0 0 10px 10px rgba(255, 255, 255, 0.1);
            border-radius: 0px;
        }

        .admin-panel {
            margin: 30px 0;
            padding: 10px;
            width: 100%;
            background-color: white;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-top: 5px solid #002999;
            position: relative;
            overflow: hidden;
        }

        /* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ */
        .admin-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            background-color: white;
            height: 200%;
            transform: rotate(45deg);
            z-index: 0;
        }


        .admin-panel h2 {
            color: #002999;
            font-size: 27px;
            position: relative;
            display: inline-block;
        }

        .admin-panel h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #002999, transparent);
            border-radius: 2px;
        }
        
        .admin-controls {
            display: flex;
            gap: 10px;
            justify-content: space-evenly;
            flex-wrap: wrap;
            margin-top: 35px;
            position: relative;
        }
        .btn-admin{
            background: linear-gradient(225deg , #005bd3 0% , #002999 30%);
            color: white;
            transition: 0.3s ease-in-out;
            position: relative;
            overflow: hidden;
            border: none;
            box-shadow: 0 4px 15px rgba(0, 41, 153, 0.3);
        }
        .btn-admin:hover{
            transform: scale(1.01);
            box-shadow: 0 6px 20px rgba(0, 41, 153, 0.4);
        }

        .btn-admin::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }

        .btn-admin:hover::before {
            left: 100%;
        }

        .message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        
        .message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ */
        .products-section {
            margin: 30px 0;
            padding: 20px;
            background-color: rgb(248, 248, 248);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        

        
        .section-header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            border-radius: 8px;
            padding: 20px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            flex-wrap: wrap;
            gap: 20px;
        }

        .search-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 350px;
        }

        .search-input {
            width: 100%;
            padding: 12px 50px 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .search-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2);
        }

        .search-icon {
            margin-left: -40px;
            color: #666;
            font-size: 18px;
            z-index: 2;
        }

        .add-product-btn {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(46, 204, 113, 0.3);
            white-space: nowrap;
            position: relative;
            overflow: hidden;
        }

        .add-product-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
        }

        .add-product-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }

        .add-product-btn:hover::before {
            left: 100%;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .product-card {
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            background: white;
            display: flex;
            flex-direction: column;
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #3498db;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #002999, #005bd3, #002999);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }
        
        .product-image-container {
            width: 100%;
            height: 200px;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 14px;
        }
        
        .product-image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .product-name {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.3em;
            color: #2c3e50;
            text-align: center;
        }
        
        .product-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .product-detail {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #f8f9fa;
        }
        
        .detail-label {
            font-weight: 600;
            color: #495057;
        }
        
        .detail-value {
            color: #6c757d;
            text-align: right;
        }
        
        .product-status {
            margin: 10px 0;
            padding: 8px 12px;
            border-radius: 6px;
            text-align: center;
            font-weight: 600;
        }
        
        .available-status {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .rented-status {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .product-actions {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .btn-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .btn-group .btn {
            flex: 1;
            min-width: 80px;
            padding: 8px 12px;
            font-size: 14px;
        }
        
        .image-upload {
            margin-bottom: 15px;
        }
        
        .image-preview-container {
            text-align: center;
            margin: 10px 0;
        }
        
        .no-products {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            font-size: 18px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px dashed #ddd;
            grid-column: 1 / -1;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-section {
            width: 100%;
            margin: 30px 0;
            padding: 20px;
            background-color: rgb(250, 250, 250);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
    
        .stats-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .stat-card {
            border: 1.5px solid #0035e4;
            border-radius: 8px;
            padding: 15px;
            height: 120px;
            text-align: left;
            transition: 0.2s ease-in-out;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        .stat-card:hover{
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(0, 53, 228, 0.15);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 53, 228, 0.05) 0%, transparent 50%);
            z-index: 0;
        }
        .stat-card h3{
            text-align: center;
        }
        .stat-card > * {
            position: relative;
            z-index: 1;
        }
        .stat-value {
            font-size: 3rem;
            font-weight: bold;
            color: #1f5e88;
            text-align: center;

        }
        
        .purchase-history {
            background-color: white;
            border-radius: 14px;
        }
        .ttt2{
            margin-top: 20px;
            color: #c9c9c9;
            display: flex;
            justify-content: end;
            text-align: end;
        }
        
        .purchase-item {
            border-radius: 8px;
            background-color: #f3f3f3;
            padding: 10px 18px;
            margin-bottom: 15px;
            position: relative;
            opacity: 0;
            transform: scale(0.6);
            animation: ScaleIn linear both;
            animation-timeline: view();
            animation-range: entry 0% cover 40%;
        }
        @keyframes ScaleIn{
            from{
            opacity: 0.9;
            transform: scale(0.9);
            }
            to{
                opacity: 1;
                transform: scale(1);
            }
        }
        .purchase-item::before {
            content: 'üìå';
            position: absolute;
            top: 0;
            right: 0;
            margin-top: 5px;
            margin-right: 5px;
        }
        .purchase-item::after{
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 53, 228, 0.05) 0%, transparent 100%);
            z-index: 0;
        }
        .ttt{
            text-align: center;
            margin-top: 25px;
            color: #000000;
        }
        


        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
            border-left: 1px solid rgba(0, 0, 0, 0.1);
            overflow-x: auto;
            display: block;
        }

        th, td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #ddd;
            transition: 0.15s ease-in-out;
            min-width: 120px; 
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }

        th:first-child,
        td:first-child {
            min-width: 80px;
            width: 10%;
        }

        th:last-child,
        td:last-child {
            min-width: 350px;
            width: 20%;
        }

        
        .sisistik{
            font-size: 26px;
            padding: 0 0 0 0;
        }
        
        
        textarea{
            resize: none;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .rent-button {
            background-color: #3498db;
            color: white;
        }
        
        .return-button {
            background-color: #2ecc71;
            color: white;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .close-modal {
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }
        
        .close-modal:hover {
            color: #333;
        }

        .logo_link{
            text-decoration: none;
            color: white;
            font-size: 1.4em;
            font-weight: bold;
            letter-spacing: 1px;
        }
        .text-part{
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .text-part.visible {
            opacity: 1;
            transform: translateY(0);
            transition: 0.5s ease;
        }

        #to-register{
            color: rgb(0, 60, 255);
            font-weight: bold;
            text-decoration: none;
            transition: 0.3s ease;
        }
        #to-login{
            color: rgb(0, 60, 255);
            font-weight: bold;
            text-decoration: none;
            transition: 0.3s ease;
        }
        #to-register:hover{
            text-decoration: none;
            color: #163049;
        }
        #to-login:hover{
            text-decoration: none;
            color: #163049;
        }

        input::placeholder{
            color: black;
            font-weight: bold;
        }
        
        #user-content{
            display: flex;
            justify-content: center;
            flex-direction: column;
            align-items: center;
            min-height: 30vh;
            margin-top: 50px;
        }
        #user-role-message{
            color: #929292;
            letter-spacing: 1px;
            font-weight: 650;
        }

        .admin-nav-label {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 4px;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 2px 10px rgba(238, 90, 36, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .admin-controls2{
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            height: auto;
            min-height: 100px;
            align-items: center;
            text-align: center;
            width: 100%;
            margin-top: 30px;
            margin-bottom: 30px;
            border: 2.5px solid rgba(0, 0, 0, 0.1);
            border-radius: 6px;
            padding: 15px;
            position: relative;
            gap: 15px;
        }

        .admin-controls2::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 41, 153, 0.05) 0%, transparent 50%);
            border-radius: 6px;
            pointer-events: none;
        }
        .btn-primary3{
            background-color: rgb(0, 168, 0);
            color: white;
            text-align: center;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        .btn-primary3:hover{
            transform: translateY(-2px);
            background-color: #00b61e;
        }

        .btn-primary3::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: 0.5s;
        }

        .btn-primary3:hover::before {
            left: 100%;
        }


        .df{
            margin-top: 30px;
            margin-bottom: 30px;
            width: 100%;
            max-width: 350px;
            padding: 12px 50px 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 16px;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .df:focus{
            outline: none;
            border-color: #3498db;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.2);
        }
        .stats-search{
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            width: 100%;
            max-width: 350px;
        }
        .stats-search::before{
            content: 'üîç';
            font-size: 16px;
            position: absolute;
            right: 0px;
            margin-right: 15px;
            z-index: 2;
        }

        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ */
        .add-product-section {
            margin: 40px 0;
            padding: 20px;
            width: 100%;
            max-width: 500px;
            background-color: rgb(248, 248, 248);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .add-product-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #002999, #005bd3, #002999);
        }

        .add-product-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 19px;
        }

        .admin-welcome {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
            border-left: 4px solid #002999;
            position: relative;
            overflow: hidden;
        }

        .admin-welcome::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 10% 20%, rgba(0, 41, 153, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(0, 41, 153, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .admin-welcome h3 {
            color: #002999;
            margin-bottom: 10px;
            position: relative;
        }

        .admin-welcome p {
            color: #6c757d;
            font-size: 16px;
            position: relative;
        }
        .for_add-product-section{
            width: 100%;
            display: flex;
            justify-content: center;
        }


        #users-management,
        #admin-products,
        #admin-stats {
            position: relative;
            overflow-x: auto;
        }

        #users-management::before,
        #admin-products::before,
        #admin-stats::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #002999, #005bd3, #002999);
            border-radius: 2px 2px 0 0;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Å–µ–∫—Ü–∏–π */
        .admin-section-appear {
            animation: adminSectionAppear 0.5s ease-out;
        }
        .btn-excel {
            background: linear-gradient(135deg, #217346 0%, #1e7e34 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(33, 115, 70, 0.3);
            white-space: nowrap;
        }

        .btn-excel:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(33, 115, 70, 0.4);
        }

        @keyframes adminSectionAppear {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .accordion{
            width: 100%;
            max-width: 500px;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-top: 45px;
        }
        .accordionItem{
            border-bottom: 2px solid rgba(0, 0, 0, 0.1);
        }
        .accordionHeader{
            padding: 20px;
            cursor: pointer;
            background-color: #fafafa;
            position: relative;
            font-weight: bold;
        }
        .accordionHeader::after{
            content: "+";
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 20px;
            transition: transform 0.4s ease-in-out;
        }
        .accordionHeader.active::after{
            content: "+";
            transform: rotate(45deg);
        }
        .accrordionBody{
            max-height: 0;
            overflow: hidden;
            padding: 0 20px;
            transition: all 0.4s;
            background-color: #fafafa;
        }
        .accrordionBody.open{
            padding: 15px 20px;
            max-height: 300px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
        #user-home {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .dd_h2{
            text-align: center;
            margin-bottom: 15px;
        }
        .search-container{
            display: flex;
            justify-content: center;
        }
        .section-header2{
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 10px 5px;
        }
        .products-section2{
            width: 100%;
            max-width: 1200px;
            background-color: rgb(238, 238, 238);
            padding: 30px;
        }
        .search-icon3{
            position: relative;
            left: -40px;
        }
        .user-info2{
            height: auto;
            min-height: 150px;
            position: relative;
            top: -50px;
        }
        .stats-section2{
            width: 100%;
            max-width: 1200px;
            background-color: rgb(250, 250, 250);
            padding: 20px;
        }
        .stats-grid2{
            display: grid;
            gap: 20px;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        }
        .stats-section2 h2{
            text-align: center;
            margin-bottom: 10px;
        }
        .stats-section2 .f{
            margin-top: 10px;
            margin-bottom: 10px;
            text-align: center;
        }
        .rental-status{
            width: 100%;
            display: flex;
            text-align: center;
            justify-content: center;
            color: rgb(255, 255, 255);
            font-weight: bold;
            font-size: 15px;
            background-color: rgb(219, 204, 116);
            border-radius: 10px;
            padding: 5px 5px;
        }
        .rental-status_true{
            width: 100%;
            display: flex;
            text-align: center;
            justify-content: center;
            color: rgb(255, 255, 255);
            font-weight: bold;
            font-size: 15px;
            background-color: rgb(30, 150, 0);
            border-radius: 10px;
            padding: 5px 5px;
        }
        .profle_user{
            width: 100%;
            max-width: 650px;
            height: auto;
            min-height: 235px;
            background-color: white;
            border-radius: 14px;
            border-left: 4px solid green;
            padding: 10px;
            transition: 0.3s ease-out;
            position: relative;
        }
        .profle_user:hover{
            border-left: 4px solid rgb(255, 208, 0);
        }
        .information_div{
            width: 100%;
        }
        .information_div h3{
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 24px;
        }
        .info{
            width: 100%;
            display: flex;
            justify-content:space-between;
            padding: 5px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            transition: 0.3s ease-in-out;
            flex-wrap: wrap;
        }
        .password{
            margin-bottom: 0px;
        }
        .info .span_name , .span-email , .span-password{
            font-weight: bold;
            color: black;
            font-weight: 14px;
        }
        .info_span_name , .info_span_email , .info_span_password{
            font-size: 14px;
            font-weight: 450;
            color: rgb(92, 92, 92);
        }
        .info:hover{
            transform: translateY(-2px);
            border: 2px solid rgba(0, 117, 252, 1);
        }
        .profle_user::before{
            content: 'üîê';
            position: absolute;
            top: 0;
            right: 0;
            font-size: 19px;
            margin-top: 5px;
            margin-right: 5px;
        }
        .information_div h5{
            text-align: end;
            color: rgb(180, 180, 180);
            
        }
        .olso{
            display: flex;
            justify-content: space-between;
            width: 100%;
            height: auto;
            min-height: 45px;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .button_glaz{
            border: none;
            outline: none;
            background-color: #12a033;
            color: white;
            padding: 5px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: 0.3s ease-in-out;
            font-weight: bold
        }
        .button_glaz:hover{
            background-color: #00b61e;
        }
        .admin-section-appear{
            margin-top: 20px;
        }
        .excel_info{
            display: flex;
            justify-content: space-between;
            width: 100%;
            height: 100px;
            align-items: center;
            background-color: #eeeeee;
            border: 2px solid rgba(0, 0, 0, 0.1);
            padding: 10px 10px;
            border-radius: 14px;
        }


        footer {
            width: 100%;
            background: rgba(23, 37, 51, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 50px;
        }

        .footer-content {
            max-width: 1920px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-links {
            display: flex;
            margin-left: 20px;
            gap: 30px;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 14px;
            transition: 0.3s ease-in-out;
        }

        .footer-links a:hover {
            color: #3498db;
        }

        .footer-copyright p {
            position: relative;
            top: 12px;
            left: 10px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-right: 20px;
        }



        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
        @media (max-width: 1200px) {
            .container {
                padding: 0 15px;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .stats-grid, .stats-grid2 {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 992px) {
            nav {
                flex-direction: column;
                gap: 15px;
            }
            
            .auth-section {
                margin-top: 15px;
            }
            
            .section-header {
                flex-direction: column;
                align-items: center;
            }
            
            .search-container {
                width: 100%;
                max-width: 400px;
            }
            
            .admin-controls2 {
                flex-direction: column;
                gap: 20px;
            }
            
            .stats-search {
                width: 100%;
            }
            
            .df {
                width: 100%;
            }

        .footer-links {
            gap: 20px;
            flex-wrap: wrap;
            font-size: 12px;
            justify-content: center;
        }
        .footer-content p{
            font-size: 12px;
        }
        }

        @media (max-width: 768px) {
            .primer1, .primer2, .primer3 {
                width: 100%;
                max-width: 300px;
            }
            .excel_info{
                display: flex;
                flex-direction: column;
            }
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }
            
            .stats-grid, .stats-grid2 {
                grid-template-columns: 1fr;
            }
            
            .admin-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-admin {
                width: 100%;
                max-width: 300px;
            }
            
            table {
                font-size: 14px;
            }
            
            th, td {
                padding: 8px 10px;
            }
            
            .modal-content {
                padding: 15px;
            }
            
            .user-info, .user-info2 {
                padding: 20px;
            }
            
            .profle_user {
                padding: 15px;
            }
            
            .accordion {
                margin-top: 25px;
            }
    }
        @media (max-width: 576px) {
            .nav-links {
                flex-direction: column;
                width: 100%;
            }
            
            .nav-links a {
                text-align: center;
                width: 100%;
            }
            .sisistik{
                font-size: 20px;
            }
            .auth-section {
                flex-direction: column;
                width: 100%;
            }
            
            .btn {
                width: 100%;
                margin: 5px 0;
            }
            
            .form-container {
                padding: 20px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .product-card {
                padding: 15px;
            }
            
            .product-image-container {
                height: 150px;
            }
            
            .admin-panel {
                padding: 5px;
            }
            
            .admin-controls {
                gap: 5px;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn-group .btn {
                width: 100%;
            }
            
            .section-header, .section-header2 {
                padding: 10px;
            }
            
            .search-input {
                padding: 10px 40px 10px 15px;
            }
            
            .Info_for_plusik {
                flex-direction: column;
                align-items: center;
            }
            
            .primer1, .primer2, .primer3 {
                width: 100%;
                max-width: 280px;
            }
            
            .stat-card {
                height: auto;
                min-height: 120px;
            }
            
            .stat-value {
                font-size: 2.5rem;
            }
            
            .accordionHeader {
                padding: 15px;
            }
            
            .accrordionBody {
                padding: 0 15px;
            }
            
            .accrordionBody.open {
                padding: 10px 15px;
            }
            
            .info {
                flex-direction: column;
                gap: 5px;
            }
            
            .olso {
                flex-direction: column;
                gap: 10px;
            }
            
            .button_glaz {
                width: 100%;
            }
            
            .information_div h5 {
                text-align: center;
            }

            .footer-links {
                flex-direction: column;
                gap: 15px;
                align-items: center;
            }
            
            .footer-link {
                text-align: center;
                width: 200px;
            }
            
            .footer-copyright p {
                font-size: 13px;
                top: 0px;
                left: 0px;
            }
        }

        @media (max-width: 400px) {
            .container {
                padding: 0 10px;
            }
            
            .form-container {
                padding: 15px;
            }
            
            .user-info, .user-info2 {
                padding: 15px;
            }
            
            .product-card {
                padding: 10px;
            }
            
            .admin-panel h2 {
                font-size: 22px;
            }
            .sisistik{
                font-size: 20px;
            }
            .btn-excel{
                font-size: 24px;
            }
            .btn {
                padding: 8px 15px;
                font-size: 14px;
            }
            
            .add-product-btn {
                padding: 10px 20px;
                font-size: 14px;
            }
        }

</style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    
    <header>
        <div class="container text-part">
            <nav>
                <a class="logo_link" href="#"><div class="logo">–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º 3D-–°–∫–ª–∞–¥</div></a>
                <div id="nav" class="nav-links">
                    <a href="#" class="active" id="home-link">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="#" id="profile-link" class="hidden">–ü—Ä–æ—Ñ–∏–ª—å</a>
                    <a href="#" id="products-link" class="hidden">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
                    <a href="#" id="stats-link" class="hidden">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                </div>
                <div id="admin-nav-label" class="admin-nav-label hidden">
                    <span>–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†</span>
                </div>
                <div class="auth-section">
                    <button id="login-btn" class="btn btn-primary">–í—Ö–æ–¥</button>
                    <button id="register-btn" class="btn btn-primary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    <button id="logout-btn" class="btn btn-secondary hidden">–í—ã–π—Ç–∏ –∏–∑ –ê–∫–∫–∞—É–Ω—Ç–∞ ( - )</button>
                </div>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="register-form" class="form-container hidden">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <div id="register-message" class="message hidden"></div>
            <form id="registerForm">
                <div class="form-group">
                    <input placeholder="–§–ò–û" type="text" id="reg-username" required>
                </div>
                <div class="form-group">
                    <input placeholder="Email" type="email" id="reg-email" required>
                </div>
                <div class="form-group">
                    <input placeholder="Password" type="password" id="reg-password" required>
                </div>
                <div class="form-group">
                    <input placeholder="Confirm password" type="password" id="reg-confirm-password" required>
                </div>
                <button type="submit" class="btn btn-primary2" style="width: 100%;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>
            <div class="form-footer">
                –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="to-login">–í–æ–π—Ç–∏</a>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="login-form" class="form-container hidden">
            <h2>–í—Ö–æ–¥</h2>
            <div id="login-message" class="message hidden"></div>
            <form id="loginForm">
                <div class="form-group">
                    <input placeholder="Email" type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <input placeholder="Password" type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn btn-primary2" style="width: 100%;">–í–æ–π—Ç–∏</button>
            </form>
            <div class="form-footer">
                –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="to-register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∑–∞–∫–∞–∑–∞ -->
        <div id="order-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>–ó–∞–∫–∞–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</h3>
                    <span class="close-modal">&times;</span>
                </div>
                <div id="order-message" class="message hidden"></div>
                <form id="orderForm">
                    <div class="form-group">
                        <label for="order-quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (–∫–≥)</label>
                        <input type="number" id="order-quantity" step="0.1" required min="0.1">
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </form>
            </div>
        </div>
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="user-content" class="hidden text-part">
            <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->

            <div id="user-home" class="text-part">
                <div id="for_admin" class="user-info2 text-part">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="username-display"></span>!</h2>
                    <p style="margin-top: 25px;" id="user-role-message"></p>
                </div>
                <div id="accordion" class="accordion text-part">
                    <div class="accordionItem">
                        <div class="accordionHeader">–ö–∞–∫ <b>–ü–æ–ª—É—á–∏—Ç—å</b> –ú–∞—Ç–µ—Ä–∏–∞–ª—ã: </div>
                        <div class="accrordionBody">
                            <p>1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã" –≤ –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é</p>
                            <p>2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª —Å –ø–æ–º–æ—â—å—é –ø–æ–∏—Å–∫–∞ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –≤–µ—Å—å —Å–ø–∏—Å–æ–∫</p>
                            <p>3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–∫–∞–∑–∞—Ç—å" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</p>
                            <p>4. –£–∫–∞–∂–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö</p>
                            <p>5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑</p>
                            <p>6. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</p>
                        </div>
                    </div>
                    <div class="accordionItem">
                        <div class="accordionHeader">–û–±—â–∞—è –°–ø—Ä–∞–≤–∫–∞:</div>
                        <div class="accrordionBody">
                            <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –¥–ª—è 3D-–ø–µ—á–∞—Ç–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
                            <p>‚Ä¢ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (PLA, ABS, PETG –∏ –¥—Ä—É–≥–∏–µ)</p>
                            <p>‚Ä¢ –ó–∞–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</p>
                            <p>‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤–∞—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤</p>
                            <p>‚Ä¢ –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤</p>
                            <p>–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞.</p>
                        </div>
                    </div>
                    <div class="accordionItem">
                        <div class="accordionHeader">–ö–∞–∫ <b>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</b> –ú–æ–π –∑–∞–∫–∞–∑ ?</div>
                        <div class="accrordionBody">
                            <p>–ü–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞:</p>
                            <p>1. –í–∞—à –∑–∞–∫–∞–∑ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∏ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</p>
                            <p>2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–∫–∞–∑</p>
                            <p>3. –í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞</p>
                            <p>4. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–±—Ä–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ</p>
                            <p>5. –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
            <div id="admin-panel" class="admin-panel hidden text-part">
                <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
                <div class="admin-welcome">
                    <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!</h3>
                    <p>–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</p>
                </div>
                
                <h2>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                <div class="admin-controls">
                    <button id="manage-users-btn" class="btn btn-admin">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</button>
                    <button id="add-product-btn" class="btn btn-admin">–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</button>
                    <button id="view-products-btn" class="btn btn-admin">–ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</button>
                    <button id="view-stats-btn" class="btn btn-admin">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                </div>
                
                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤–Ω—É—Ç—Ä–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ -->
                <div class="for_add-product-section">
                    <div id="add-product-section" class="add-product-section hidden">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –ú–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è 3D-–ü—Ä–∏–Ω—Ç–µ—Ä–∞</h2>
                    <div id="product-message" class="message hidden"></div>
                    <form id="productForm">
                        <div class="form-group">
                            <label for="product-name">–í–∏–¥ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</label>
                            <input type="text" id="product-name" required maxlength="20" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: PLA">
                        </div>
                        <div class="form-group">
                            <label for="product-weight">–í–µ—Å –∫–∞—Ç—É—à–∫–∏ (–∫–≥)</label>
                            <input type="number" id="product-weight" step="0.01" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 0.75">
                        </div>
                        <div class="form-group">
                            <label for="product-diameter">–î–∏–∞–º–µ—Ç—Ä –Ω–∏—Ç–∏ (–º–º)</label>
                            <input type="text" id="product-diameter" required maxlength="15" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1.75">
                        </div>
                        <div class="form-group">
                            <label for="product-color">–¶–≤–µ—Ç</label>
                            <input type="text" id="product-color" required maxlength="15" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —á–µ—Ä–Ω—ã–π">
                        </div>
                        <div class="form-group">
                            <label for="product-category">–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è</label>
                            <select id="product-category">
                                <option value="electronics">–í –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, —Å —Å–∏–ª–∏–∫–∞–≥–µ–ª–µ–º, –ø—Ä–∏ t15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 40%</option>
                                <option value="clothing">–í —Å—É—Ö–æ–º, –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∏–∑–±–µ–≥–∞—Ç—å –ø—Ä—è–º–æ–≥–æ —Å–≤–µ—Ç–∞, t 15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 50%</option>
                                <option value="tools">–í –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–µ, —Å –≤–ª–∞–≥–æ–ø–æ–≥–ª–æ—Ç–∏—Ç–µ–ª–µ–º, t 15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 45%</option>
                                <option value="other">–î—Ä—É–≥–æ–µ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="product-stock">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –Ω–∞–ª–∏—á–∏–∏ (–∫–≥)</label>
                            <input type="number" id="product-stock" step="0.01" required>
                        </div>
                        <!-- –ù–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                        <div class="form-group image-upload">
                            <label for="product-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)</label>
                            <input type="file" id="product-image" accept="image/*">
                            <div class="image-preview-container">
                                <img id="image-preview" class="hidden product-image-preview">
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success" style="width: 100%;">–î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</button>
                    </form>
                </div>
                </div>
                
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                <div id="users-management" class="hidden admin-section-appear">
                    <div class="excel_info">
                        <h3 class="sisistik">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h3>
                        <button id="excel_people" class="btn-excel btn">üìä Excel (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏) </button>
                    </div>
                    <table id="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ò–º—è</th>
                                <th>Email</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
                <div id="admin-products" class="products-section hidden admin-section-appear">
                    <div class="section-header">
                        <div class="search-container">
                            <input type="text" id="admin-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–∞—Ç–µ—Ä–∏–∞–ª–∞..."value="" oninput="searchAdminProducts(this.value)"class="search-input">
                            <div class="search-icon">üîç</div>
                        </div>
                        <button id="add-new-product-btn" class="btn btn-success add-product-btn">+ –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª</button>
                    </div>
                    
                    <div id="admin-products-grid" class="products-grid">
                        <!-- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
                
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ -->
                <div id="admin-stats" class="stats-section hidden admin-section-appear">
                    <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>–û–±—â–µ–µ –∫–æ–ª-–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</h3>
                            <div class="stat-value" id="total-users">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>–û–±—â–µ–µ –∫–æ–ª-–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤:</h3>
                            <div class="stat-value" id="total-products">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>–û–±—â–µ–µ –∫–æ–ª-–≤–æ –∑–∞–∫–∞–∑–æ–≤:</h3>
                            <div class="stat-value" id="total-sales">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã:</h3>
                            <div class="stat-value" id="active-rentals">0</div>
                        </div>
                    </div>
                
                    <div class="admin-controls2">
                        <div class="stats-search">
                            <input class="df" type="text" id="stats-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª—É, –ª—é–¥—è–º –∏... "oninput="filterRentalsTable(this.value)">
                        </div>
                        <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <button id="refresh-stats-btn" class="btn btn-primary3">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                            <button id="export-excel-btn" class="btn btn-excel">üìä Excel</button>
                        </div>
                    </div>

                    <table id="sales-table">
                        <thead>
                            <tr>
                                <th>ID –∑–∞–∫–∞–∑–∞</th>
                                <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                <th>–ú–∞—Ç–µ—Ä–∏–∞–ª</th>
                                <th>–î–∏–∞–º–µ—Ç—Ä</th>
                                <th>–¶–≤–µ—Ç</th>
                                <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–∫–≥)</th>
                                <th>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div> <!-- –ó–∞–∫—Ä—ã—Ç–∏–µ admin-panel -->
            
            
            <div id="profile" class="profle_user hidden">
                <div class="information_div">
                    <h3>–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:</h3>
                    <div class="name info">
                        <span class="span_name">–ò–º—è:</span>
                        <span class="info_span_name"></span>
                    </div>
                    <div class="email info">
                        <span class="span-email">–ü–æ—á—Ç–∞:</span>
                        <span class="info_span_email">######</span>
                    </div>
                    <div class="password info">
                        <span class="span-password">–ü–∞—Ä–æ–ª—å:</span>
                        <span class="info_span_password">#######</span>
                    </div>
                    <div class="olso">
                        <button class="button_glaz" id="glazik">–ü–æ–∫–∞–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ?</button>
                        <h5>–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã‚Ñ¢</h5>
                    </div>
                </div>
            </div>  


            <!-- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–í–ù–ï –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏) -->
            <div id="user-products" class="products-section2 hidden">
                <h2 class="dd_h2">–ù–∞—à–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è 3D-–ø–µ—á–∞—Ç–∏</h2>
                <div class="section-header2">
                    <div class="search-container">
                        <input type="text" id="user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–∞—Ç–µ—Ä–∏–∞–ª–∞..." 
                               value="" 
                               oninput="searchUserProducts(this.value)"
                               class="search-input">
                        <div class="search-icon3">üîç</div>
                    </div>
                </div>
                <div id="user-products-grid" class="products-grid">
                    <!-- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
            
            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–í–ù–ï –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏) -->
            <div id="user-stats" class="stats-section2 hidden">
                <h2>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid2">
                    <div class="stat-card">
                        <h3>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤</h3>
                        <div class="stat-value" id="user-purchases-count">0</div>
                    </div>
                    <div class="stat-card">
                        <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h3>
                        <div class="stat-value" id="user-active-rentals">0</div>
                    </div>
                </div>
                
                <h3 class="f">–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤</h3>
                <div id="user-purchase-history" class="purchase-history">
                    <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <h3 class="ttt">–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã‚Ñ¢</h3>
                <h3 class="ttt2">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫- ‚®à‚®àŒ±Œ±Œ±≈∂</h3>
            </div>
        </div> 

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="guest-content">
            <div class="prosto text-part">
                <div class="user-info">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <b>–°–ò–°–¢–ï–ú–£ 3D-–ü–ï–ß–ê–¢–ò</b></h2>
                    <p class="for_guests">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∞–π—Ç–∞.</p>
                </div>
                <div class="Info_for_plusik">
                    <div class="primer1 text-part">–£–¥–æ–±–Ω–æ</div>
                    <div class="primer2 text-part">–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ</div>
                    <div class="primer3 text-part">–ë–µ–∑–æ–ø–∞—Å–Ω–æ</div>
                </div>
            </div>
        </div>
    </div>


<footer>
    <div class="footer-content">
        <div class="footer-links">
            <a href="https://kvantorium.ru/1/tehnopark/">–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º</a>
            <a href="https://kvantoriumtomsk.ru">–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º-–¢–æ–º—Å–∫</a>
            <a href="https://kvantorium64.ru">–ö–≤–∞–Ω—Ç–æ—Ä–∏—É–º-–°–∞—Ä–∞—Ç–æ–≤</a>
        </div>
        <div class="footer-copyright">
            <p>–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã‚Ñ¢</p>
        </div>
    </div>
</footer>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã DOM
        const excel_btn_for_pepople = document.getElementById('excel_people');
        const exportExcelBtn = document.getElementById('export-excel-btn');
        const registerFormEl = document.getElementById('register-form');
        const loginFormEl = document.getElementById('login-form');
        const userContentEl = document.getElementById('user-content');
        const guestContentEl = document.getElementById('guest-content');
        const adminPanelEl = document.getElementById('admin-panel');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const homeLink = document.getElementById('home-link');
        const profileLink = document.getElementById('profile-link');
        const profileInfo = document.getElementById('profile');
        const productsLink = document.getElementById('products-link');
        const statsLink = document.getElementById('stats-link');
        const toLoginLink = document.getElementById('to-login');
        const toRegisterLink = document.getElementById('to-register');
        const registerForm = document.getElementById('registerForm');
        const loginForm = document.getElementById('loginForm');
        const productForm = document.getElementById('productForm');
        const usernameDisplay = document.getElementById('username-display');
        const userRoleMessage = document.getElementById('user-role-message');
        const registerMessage = document.getElementById('register-message');
        const loginMessage = document.getElementById('login-message');
        const productMessage = document.getElementById('product-message');
        const navig = document.getElementById('nav');
        const user_info2 = document.querySelector('.user-info2');
        const name_profile = document.querySelector('.info_span_name');
        const email_profile = document.querySelector('.info_span_email');
        const password_profile = document.querySelector('.info_span_password');
        const glaz = document.getElementById('glazik');


        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        const manageUsersBtn = document.getElementById('manage-users-btn');
        const addProductBtn = document.getElementById('add-product-btn');
        const viewProductsBtn = document.getElementById('view-products-btn');
        const viewStatsBtn = document.getElementById('view-stats-btn');
        const addNewProductBtn = document.getElementById('add-new-product-btn');
        const refreshStatsBtn = document.getElementById('refresh-stats-btn');


        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤
        const userHomeEl = document.getElementById('user-home');
        const usersManagementEl = document.getElementById('users-management');
        const adminProductsEl = document.getElementById('admin-products');
        const adminStatsEl = document.getElementById('admin-stats');
        const userProductsEl = document.getElementById('user-products');
        const userStatsEl = document.getElementById('user-stats');
        const addProductSection = document.getElementById('add-product-section');
        const accordion  = document.getElementById('accordion');
        const for_admin = document.getElementById('for_adminn');
        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∑–∞–∫–∞–∑–∞
        const orderModal = document.getElementById('order-modal');
        const orderForm = document.getElementById('orderForm');
        const closeModalBtn = document.querySelector('.close-modal');
        const orderQuantityInput = document.getElementById('order-quantity');
        const orderMessage = document.getElementById('order-message');

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–∫—É—â–µ–º –∑–∞–∫–∞–∑–µ
        let currentOrderProduct = null;

        // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        let products = JSON.parse(localStorage.getItem('products')) || [];
        let rentals = JSON.parse(localStorage.getItem('rentals')) || [];

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
        let currentAdminSearchTerm = '';
        let currentUserSearchTerm = '';

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
        function getNextUserId() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            if (users.length === 0) return 1;
            const maxId = Math.max(...users.map(user => user.id));
            return maxId + 1;
        }

        function getNextProductId() {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            if (products.length === 0) return 1;
            const maxId = Math.max(...products.map(product => product.id));
            return maxId + 1;
        }

        function getNextRentalId() {
            const rentals = JSON.parse(localStorage.getItem('rentals')) || [];
            if (rentals.length === 0) return 1;
            const maxId = Math.max(...rentals.map(rental => rental.id));
            return maxId + 1;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
            users = JSON.parse(localStorage.getItem('users')) || [];
            currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
            products = JSON.parse(localStorage.getItem('products')) || [];
            rentals = JSON.parse(localStorage.getItem('rentals')) || [];
            
            // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
            products.forEach(product => {
                if (!product.hasOwnProperty('available')) {
                    product.available = product.stock || 0;
                }
                if (!product.hasOwnProperty('image')) {
                    product.image = null;
                }
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª—è –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
                if (!product.hasOwnProperty('weight')) {
                    product.weight = 1.0;
                }
                if (!product.hasOwnProperty('diameter')) {
                    product.diameter = product.model || "1.75";
                }
                if (!product.hasOwnProperty('color')) {
                    product.color = "–ù–µ —É–∫–∞–∑–∞–Ω";
                }
            });
            localStorage.setItem('products', JSON.stringify(products));
            
            if (currentUser) {
                showUserContent();
            } else {
                showGuestContent();
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            closeModalBtn.addEventListener('click', function() {
                orderModal.style.display = 'none';
            });

            window.addEventListener('click', function(event) {
                if (event.target === orderModal) {
                    orderModal.style.display = 'none';
                }
            });

            orderForm.addEventListener('submit', function(e) {
                e.preventDefault();
                processOrder();
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            if (refreshStatsBtn) {
                refreshStatsBtn.addEventListener('click', function() {
                    renderAdminStats();
                });
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            document.getElementById('product-image').addEventListener('change', function(e) {
                const file = e.target.files[0];
                const preview = document.getElementById('image-preview');
                
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        preview.src = e.target.result;
                        preview.classList.remove('hidden');
                    }
                    reader.readAsDataURL(file);
                } else {
                    preview.classList.add('hidden');
                }
            });
        });
        

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        registerBtn.addEventListener('click', function() {
            hideAllForms();
            registerFormEl.classList.remove('hidden');
            guestContentEl.classList.add('hidden');
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞
        loginBtn.addEventListener('click', function() {
            hideAllForms();
            loginFormEl.classList.remove('hidden');
            guestContentEl.classList.add('hidden');
        });

        // –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫ –≤—Ö–æ–¥—É
        toLoginLink.addEventListener('click', function(e) {
            e.preventDefault();
            hideAllForms();
            loginFormEl.classList.remove('hidden');
        });

        // –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –≤—Ö–æ–¥–∞ –∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        toRegisterLink.addEventListener('click', function(e) {
            e.preventDefault();
            hideAllForms();
            registerFormEl.classList.remove('hidden');
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('reg-username').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const confirmPassword = document.getElementById('reg-confirm-password').value;
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (password !== confirmPassword) {
                showMessage(registerMessage, '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç', 'error');
                return;
            }
            
            if (users.find(user => user.email === email)) {
                showMessage(registerMessage, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç', 'error');
                return;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω–æ–º –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
            const isAdmin = users.length === 0;
            const newUser = {
                id: getNextUserId(),
                username,
                email,
                password,
                isAdmin
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            showMessage(registerMessage, '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏.', 'success');
            registerForm.reset();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ–æ—Ä–º–µ –≤—Ö–æ–¥–∞
            setTimeout(() => {
                hideAllForms();
                loginFormEl.classList.remove('hidden');
            }, 2000);
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥–∞
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showUserContent();
                hideAllForms();
            } else {
                showMessage(loginMessage, '–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'error');
            }
        });

        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        logoutBtn.addEventListener('click', function() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showGuestContent();
            hideAllForms();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        addProductBtn.addEventListener('click', function() {
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º
            productForm.reset();
            document.getElementById('image-preview').classList.add('hidden');
            document.getElementById('image-preview').src = '';
            
            hideAdminSections();
            addProductSection.classList.remove('hidden');
            addProductSection.classList.add('admin-section-appear');
        });

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        addNewProductBtn.addEventListener('click', function() {
            // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É –ø–µ—Ä–µ–¥ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º
            productForm.reset();
            document.getElementById('image-preview').classList.add('hidden');
            document.getElementById('image-preview').src = '';
            
            hideAdminSections();
            addProductSection.classList.remove('hidden');
            addProductSection.classList.add('admin-section-appear');
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞
        productForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('product-name').value;
            const weight = parseFloat(document.getElementById('product-weight').value);
            const diameter = document.getElementById('product-diameter').value;
            const color = document.getElementById('product-color').value;
            const category = document.getElementById('product-category').value;
            const stock = parseFloat(document.getElementById('product-stock').value);
            const imageInput = document.getElementById('product-image');
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (stock <= 0) {
                showMessage(productMessage, '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0', 'error');
                return;
            }
            
            let imageData = null;
            if (imageInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageData = e.target.result;
                    saveProduct(name, weight, diameter, color, category, stock, imageData);
                }
                reader.readAsDataURL(imageInput.files[0]);
            } else {
                saveProduct(name, weight, diameter, color, category, stock, imageData);
            }
        });

        function saveProduct(name, weight, diameter, color, category, stock, imageData) {
            const newProduct = {
                id: getNextProductId(),
                name,
                weight,
                diameter,
                color,
                category,
                stock,
                available: stock,
                image: imageData,
                createdAt: new Date().toISOString()
            };
            
            products.push(newProduct);
            localStorage.setItem('products', JSON.stringify(products));
            
            showMessage(productMessage, '–ú–∞—Ç–µ—Ä–∏–∞–ª —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!', 'success');
            
            // –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            productForm.reset();
            document.getElementById('image-preview').classList.add('hidden');
            document.getElementById('image-preview').src = '';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
            if (currentUser && currentUser.isAdmin) {
                renderAdminProducts();
            }
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            setTimeout(() => {
                hideAdminSections();
                adminProductsEl.classList.remove('hidden');
                adminProductsEl.classList.add('admin-section-appear');
            }, 1500);
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
        manageUsersBtn.addEventListener('click', function() {
            hideAdminSections();
            usersManagementEl.classList.remove('hidden');
            usersManagementEl.classList.add('admin-section-appear');
            renderUsersTable();
        });

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        viewProductsBtn.addEventListener('click', function() {
            hideAdminSections();
            adminProductsEl.classList.remove('hidden');
            adminProductsEl.classList.add('admin-section-appear');
            renderAdminProducts();
        });

        // –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
        viewStatsBtn.addEventListener('click', function() {
            hideAdminSections();

            adminStatsEl.classList.remove('hidden');
            adminStatsEl.classList.add('admin-section-appear');
            renderAdminStats();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        homeLink.addEventListener('click', function(e) {
            e.preventDefault();
            if (currentUser) {
                if (currentUser.isAdmin) {
                    hideAdminSections();
                } else {
                    hideUserSections();
                    userHomeEl.classList.remove('hidden');
                    user_info2.classList.remove('hidden')
                }
            }
        });
        profileLink.addEventListener('click' , function(e){
            e.preventDefault();
            if (currentUser && !currentUser.isAdmin){
                hideUserSections();
                profileInfo.classList.remove('hidden');
                name_profile.textContent = currentUser.username;
                glaz.addEventListener('click' , function(e){
                    email_profile.textContent = currentUser.email;
                    password_profile.textContent = currentUser.password;
                    setTimeout(()=>{
                        e.preventDefault();
                        email_profile.textContent = '######';
                        password_profile.textContent = '#######';
                    } , 5000)
                })
            }
        });
        // –ü–æ–∫–∞–∑–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        productsLink.addEventListener('click', function(e) {
            e.preventDefault();
            if (currentUser && !currentUser.isAdmin) {
                hideUserSections();
                userProductsEl.classList.remove('hidden');
                renderUserProducts();
            }
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        statsLink.addEventListener('click', function(e) {
            e.preventDefault();
            if (currentUser && !currentUser.isAdmin) {
                hideUserSections();
                userStatsEl.classList.remove('hidden');
                renderUserStats();
            }
        });

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function hideAllForms() {
            registerFormEl.classList.add('hidden');
            loginFormEl.classList.add('hidden');
        }

        function hideAdminSections() {
            usersManagementEl.classList.add('hidden');
            adminProductsEl.classList.add('hidden');
            adminStatsEl.classList.add('hidden');
            addProductSection.classList.add('hidden');
            
            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã –∞–Ω–∏–º–∞—Ü–∏–∏
            usersManagementEl.classList.remove('admin-section-appear');
            adminProductsEl.classList.remove('admin-section-appear');
            adminStatsEl.classList.remove('admin-section-appear');
            addProductSection.classList.remove('admin-section-appear');
        }

        function hideUserSections() {
            userHomeEl.classList.add('hidden');
            userProductsEl.classList.add('hidden');
            userStatsEl.classList.add('hidden');
            profileInfo.classList.add('hidden');
        }

        function showGuestContent() {
            userContentEl.classList.add('hidden');
            guestContentEl.classList.remove('hidden');
            loginBtn.classList.remove('hidden');
            registerBtn.classList.remove('hidden');
            logoutBtn.classList.add('hidden');
            navig.classList.remove('hidden');
            profileLink.classList.add('hidden');
            productsLink.classList.add('hidden');
            statsLink.classList.add('hidden');
            document.getElementById('admin-nav-label').classList.add('hidden');
        }

        function showUserContent() {
            guestContentEl.classList.add('hidden');
            userContentEl.classList.remove('hidden');
            loginBtn.classList.add('hidden');
            registerBtn.classList.add('hidden');
            logoutBtn.classList.remove('hidden');
            profileLink.classList.remove('hidden');
            productsLink.classList.remove('hidden');
            statsLink.classList.remove('hidden');
            
            usernameDisplay.textContent = currentUser.username;
            
            if (currentUser.isAdmin) {
                adminPanelEl.classList.remove('hidden');
                navig.classList.add('hidden');
                document.getElementById('admin-nav-label').classList.remove('hidden');
                userRoleMessage.textContent = '–í—ã –≤–æ—à–ª–∏, –≤—ã –∏–º–µ–µ—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º';
                hideUserSections();
                // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
                userHomeEl.classList.remove('hidden');
                accordion.classList.add('hidden');
            } else {
                adminPanelEl.classList.add('hidden');
                navig.classList.remove('hidden');
                document.getElementById('admin-nav-label').classList.add('hidden');
                userRoleMessage.textContent = '–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–∏–∂–µ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–∞–π—Ç–∞';
                hideAdminSections();
                // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                hideUserSections();
                userHomeEl.classList.remove('hidden');
                accordion.classList.remove('hidden');
            }
        }

        function showMessage(element, text, type) {
            element.textContent = text;
            element.className = `message ${type}`;
            element.classList.remove('hidden');
            
            setTimeout(() => {
                element.classList.add('hidden');
            }, 5000);
        }

        // –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        homeLink.addEventListener('click', function(e) {
            e.preventDefault();
            if (currentUser) {
                showUserContent();
                hideAllForms();
                if (currentUser.isAdmin) {
                    hideAdminSections();
                } else {
                    hideUserSections();
                    userHomeEl.classList.remove('hidden');
                }
            } else {
                showGuestContent();
                hideAllForms();
            }
        });

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function renderUsersTable() {
            const tbody = document.querySelector('#users-table tbody');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${user.id}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.isAdmin ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</td>
                    <td>
                        ${!user.isAdmin ? `<button class="btn btn-admin" onclick="makeAdmin(${user.id})">–ê–¥–º–∏–Ω</button>` : ''}
                        <button class="btn btn-secondary" onclick="deleteUser(${user.id})">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∞
        function searchAdminProducts(searchTerm) {
            currentAdminSearchTerm = searchTerm.toLowerCase();
            renderAdminProducts();
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function searchUserProducts(searchTerm) {
            currentUserSearchTerm = searchTerm.toLowerCase();
            renderUserProducts();
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∞
        function renderAdminProducts() {
            const container = document.getElementById('admin-products-grid');
            container.innerHTML = '';
            
            let filteredProducts = products;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–∏—Å–∫ –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            if (currentAdminSearchTerm) {
                filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(currentAdminSearchTerm)
                );
            }
            
            if (filteredProducts.length === 0) {
                container.innerHTML = '<div class="no-products">–ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                return;
            }
            
            filteredProducts.forEach(product => {
                if (!product.available && product.available !== 0) {
                    product.available = product.stock || 0;
                }
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                let imageContent;
                if (product.image) {
                    imageContent = `<img src="${product.image}" class="product-image-preview" alt="${product.name}">`;
                } else {
                    imageContent = `<div class="product-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</div>`;
                }
                
                const isAvailable = product.available > 0;
                const statusText = isAvailable ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏';
                const statusClass = isAvailable ? 'available-status' : 'rented-status';
                
                const productRentals = rentals.filter(r => r.productId === product.id);
                const activeRentals = productRentals.filter(r => !r.returnDate);
                
                productCard.innerHTML = `
                    <div class="product-image-container">
                        ${imageContent}
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-details">
                        <div class="product-detail">
                            <span class="detail-label">–í–µ—Å –∫–∞—Ç—É—à–∫–∏:</span>
                            <span class="detail-value">${product.weight} –∫–≥</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–î–∏–∞–º–µ—Ç—Ä –Ω–∏—Ç–∏:</span>
                            <span class="detail-value">${product.diameter} –º–º</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–¶–≤–µ—Ç:</span>
                            <span class="detail-value">${product.color}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:</span>
                            <span class="detail-value">${getCategoryName(product.category)}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–í—Å–µ–≥–æ:</span>
                            <span class="detail-value">${product.stock} –∫–≥</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–î–æ—Å—Ç—É–ø–Ω–æ:</span>
                            <span class="detail-value">${product.available} –∫–≥</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–ó–∞–∫–∞–∑–∞–Ω–æ:</span>
                            <span class="detail-value">${activeRentals.reduce((sum, rental) => sum + rental.quantity, 0)} –∫–≥</span>
                        </div>
                    </div>
                    <div class="product-status ${statusClass}">${statusText}</div>
                    <div class="product-actions">
                        <div class="btn-group">
                            <button class="btn btn-success" onclick="addStock(${product.id}, 1)">+1 –∫–≥</button>
                            <button class="btn btn-secondary" onclick="deleteProduct(${product.id})">–£–¥–∞–ª–∏—Ç—å</button>
                            ${activeRentals.length > 0 ? `
                                <button class="btn return-button" onclick="showRentalsForProduct(${product.id})">
                                    –ó–∞–∫–∞–∑—ã (${activeRentals.length})
                                </button>
                            ` : ''}
                        </div>
                    </div>
                `;
                container.appendChild(productCard);
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
        function addStock(productId, amount) {
            const product = products.find(p => p.id === productId);
            if (product) {
                product.stock += amount;
                product.available += amount;
                localStorage.setItem('products', JSON.stringify(products));
                renderAdminProducts();
                alert(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${amount} –∫–≥ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ "${product.name}". –¢–µ–ø–µ—Ä—å –≤—Å–µ–≥–æ: ${product.stock} –∫–≥`);
            }
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function renderUserProducts() {
            const container = document.getElementById('user-products-grid');
            container.innerHTML = '';
            
            let filteredProducts = products;
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–∏—Å–∫ –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
            if (currentUserSearchTerm) {
                filteredProducts = products.filter(product => 
                    product.name.toLowerCase().includes(currentUserSearchTerm)
                );
            }
            
            if (filteredProducts.length === 0) {
                container.innerHTML = '<div class="no-products">–ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                return;
            }
            
            filteredProducts.forEach(product => {
                if (!product.available && product.available !== 0) {
                    product.available = product.stock || 0;
                }
                
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                
                const userRental = rentals.find(r => r.userId === currentUser.id && r.productId === product.id && !r.returnDate);
                
                let imageContent;
                if (product.image) {
                    imageContent = `<img src="${product.image}" class="product-image-preview" alt="${product.name}">`;
                } else {
                    imageContent = `<div class="product-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞</div>`;
                }
                
                const isAvailable = product.available > 0;
                const statusText = isAvailable ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏';
                const statusClass = isAvailable ? 'available-status' : 'rented-status';
                
                productCard.innerHTML = `
                    <div class="product-image-container">
                        ${imageContent}
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-details">
                        <div class="product-detail">
                            <span class="detail-label">–í–µ—Å –∫–∞—Ç—É—à–∫–∏:</span>
                            <span class="detail-value">${product.weight} –∫–≥</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–î–∏–∞–º–µ—Ç—Ä –Ω–∏—Ç–∏:</span>
                            <span class="detail-value">${product.diameter} –º–º</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–¶–≤–µ—Ç:</span>
                            <span class="detail-value">${product.color}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è:</span>
                            <span class="detail-value">${getCategoryName(product.category)}</span>
                        </div>
                        <div class="product-detail">
                            <span class="detail-label">–î–æ—Å—Ç—É–ø–Ω–æ:</span>
                            <span class="detail-value">${product.available} –∫–≥ –∏–∑ ${product.stock} –∫–≥</span>
                        </div>
                    </div>
                    <div class="product-status ${statusClass}">${statusText}</div>
                    <div class="product-actions">
                        ${userRental ? 
                            `<div style=' background-color:#e9c67b; padding:8px; color:black; border-radius:5px;' class="rental-status">
                                –ó–∞–∫–∞–∑–∞–Ω–æ: ${userRental.quantity} –∫–≥ (–æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
                            </div>` :
                            `<button class="btn rent-button" style="width: 100%;" 
                                    ${!isAvailable ? 'disabled' : ''} 
                                    onclick="openOrderModal(${product.id})">
                                ${!isAvailable ? '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' : '–ó–∞–∫–∞–∑–∞—Ç—å'}
                            </button>`
                        }
                    </div>
                `;
                container.appendChild(productCard);
            });
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –∑–∞–∫–∞–∑–∞
        function openOrderModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                alert('–ú–∞—Ç–µ—Ä–∏–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }
            
            currentOrderProduct = product;
            orderQuantityInput.value = '';
            orderQuantityInput.max = product.available;
            orderMessage.classList.add('hidden');
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            document.querySelector('#order-modal .modal-header h3').textContent = `–ó–∞–∫–∞–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–∞: ${product.name}`;
            
            orderModal.style.display = 'flex';
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
        function processOrder() {
            const quantity = parseFloat(orderQuantityInput.value);
            
            if (!quantity || quantity <= 0) {
                showMessage(orderMessage, '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞', 'error');
                return;
            }
            
            if (quantity > currentOrderProduct.available) {
                showMessage(orderMessage, `–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –î–æ—Å—Ç—É–ø–Ω–æ: ${currentOrderProduct.available} –∫–≥`, 'error');
                return;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –∑–∞–∫–∞–∑–µ
            const rental = {
                id: getNextRentalId(),
                userId: currentUser.id,
                productId: currentOrderProduct.id,
                quantity: quantity,
                rentDate: new Date().toISOString(),
                returnDate: null
            };
            
            rentals.push(rental);
            localStorage.setItem('rentals', JSON.stringify(rentals));
            
            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
            currentOrderProduct.available -= quantity;
            localStorage.setItem('products', JSON.stringify(products));
            
            orderModal.style.display = 'none';
            alert(`–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–∫–∞–∑–∞–ª–∏ ${quantity} –∫–≥ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ "${currentOrderProduct.name}"`);
            renderUserProducts();
            renderUserStats();
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞
        function renderAdminStats() {
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            document.getElementById('total-users').textContent = users.length;
            
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
            document.getElementById('total-products').textContent = products.length;
            
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
            const totalRentals = rentals.length;
            document.getElementById('total-sales').textContent = totalRentals;
            
            // –¢–µ–∫—É—â–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã
            const activeRentals = rentals.filter(r => !r.returnDate).length;
            document.getElementById('active-rentals').textContent = activeRentals;
            
            renderRentalsTable();
        }

        // –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤
        function filterRentalsTable(searchTerm) {
            const searchLower = searchTerm.toLowerCase();
            const rows = document.querySelectorAll('#sales-table tbody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchLower) ? '' : 'none';
            });
        }

        // –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤
        function renderRentalsTable() {
            const tbody = document.querySelector('#sales-table tbody');
            tbody.innerHTML = '';
            
            rentals.forEach(rental => {
                const user = users.find(u => u.id === rental.userId);
                const product = products.find(p => p.id === rental.productId);
                
                // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–ø–∏—Å–∏, –≥–¥–µ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ —Ç–æ–≤–∞—Ä–∞
                if (!user || !product) {
                    return;
                }
                
                const rentDate = new Date(rental.rentDate).toLocaleDateString();
                const status = rental.returnDate ? '–ó–∞–≤–µ—Ä—à–µ–Ω' : '–ê–∫—Ç–∏–≤–µ–Ω';
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${rental.id}</td>
                    <td>${user.username}</td>
                    <td>${product.name}</td>
                    <td>${product.diameter} –º–º</td>
                    <td>${product.color}</td>
                    <td>${rental.quantity} –∫–≥</td>
                    <td>${rentDate}</td>
                    <td>${status}</td>
                    <td>
                        ${!rental.returnDate ? 
                            `<button class="btn return-button" onclick="adminReturnProduct(${rental.id}, ${product.id})">
                                –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
                            </button>` : 
                            ''
                        }
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function renderUserStats() {
            const userRentals = rentals.filter(r => r.userId === currentUser.id);
            
            // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
            document.getElementById('user-purchases-count').textContent = userRentals.length;
            
            // –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã
            const activeRentals = userRentals.filter(r => !r.returnDate).length;
            document.getElementById('user-active-rentals').textContent = activeRentals;
            
            // –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
            const container = document.getElementById('user-purchase-history');
            container.innerHTML = '';
            
            if (userRentals.length === 0) {
                container.innerHTML = '<p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.</p>';
                return;
            }
            
            userRentals.forEach(rental => {
                const product = products.find(p => p.id === rental.productId);
                if (!product) {
                    return;
                }
                
                const purchaseItem = document.createElement('div');
                purchaseItem.className = 'purchase-item';
                
                const rentDate = new Date(rental.rentDate).toLocaleDateString();
                const returnDate = rental.returnDate ? 
                    new Date(rental.returnDate).toLocaleDateString() : 
                    '–ï—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω';
                
                const status = rental.returnDate ? '–ó–∞–≤–µ—Ä—à–µ–Ω' : '–ê–∫—Ç–∏–≤–µ–Ω';
                
                purchaseItem.innerHTML = `
                    <div style='font-weight:bold; margin-bottom:5px;                                         '><strong>${product.name}</strong> - ${status}</div>
                    <div style='font-weight:bold; margin-bottom:5px;color:#8a8a8a;                           '>–î–∏–∞–º–µ—Ç—Ä: ${product.diameter} –º–º</div>
                    <div style='font-weight:bold; margin-bottom:5px;color:#8a8a8a;                           '>–¶–≤–µ—Ç: ${product.color}</div>
                    <div style='font-weight:bold; margin-bottom:5px;color:#8a8a8a;                           '>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${rental.quantity} –∫–≥</div>
                    <div style='font-weight:bold; margin-bottom:5px;color:#8a8a8a;                           '>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞: ${rentDate}</div>
                    <div style='font-weight:bold; margin-bottom:5px;color:#8a8a8a;                           '>–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: ${returnDate}</div>
                    ${!rental.returnDate ? 
                        `<div class="rental-status">
                            –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è(–ü–æ–ø—Ä–æ—Å–∏—Ç–µ –∞–¥–º–∏–Ω–∞)
                        </div>` : 
                        ''
                    }
                    ${rental.returnDate ? 
                        `<div class="rental-status_true">
                            –ó–∞–∫–∞–∑ –∑–∞–∫—Ä—ã—Ç
                        </div>` : 
                        ''
                    }
                `;
                container.appendChild(purchaseItem);
            });
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
        function getCategoryName(category) {
            const categories = {
                'electronics': '–í –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, —Å —Å–∏–ª–∏–∫–∞–≥–µ–ª–µ–º, –ø—Ä–∏ t15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 40%',
                'clothing': '–í —Å—É—Ö–æ–º, –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º –º–µ—Å—Ç–µ, –∏–∑–±–µ–≥–∞—Ç—å –ø—Ä—è–º–æ–≥–æ —Å–≤–µ—Ç–∞, t 15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 50%',
                'tools': '–í –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–µ, —Å –≤–ª–∞–≥–æ–ø–æ–≥–ª–æ—Ç–∏—Ç–µ–ª–µ–º, t 15‚Äì25¬∞C, –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚â§ 45%',
                'other': '–î—Ä—É–≥–æ–µ'
            };
            return categories[category] || category;
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
        function makeAdmin(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                user.isAdmin = true;
                localStorage.setItem('users', JSON.stringify(users));
                renderUsersTable();
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä');
            }
        }

        function deleteUser(userId) {
            if (userId === currentUser.id) {
                alert('–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç');
                return;
            }
            
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {
                users = users.filter(u => u.id !== userId);
                localStorage.setItem('users', JSON.stringify(users));
                renderUsersTable();
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
        function deleteProduct(productId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª?')) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
                const activeRentals = rentals.filter(r => r.productId === productId && !r.returnDate);
                if (activeRentals.length > 0) {
                    alert('–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–∞–∫–∞–∑–µ');
                    return;
                }
                
                products = products.filter(p => p.id !== productId);
                localStorage.setItem('products', JSON.stringify(products));
                renderAdminProducts();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
        function showRentalsForProduct(productId) {
            const product = products.find(p => p.id === productId);
            const productRentals = rentals.filter(r => r.productId === productId && !r.returnDate);
            
            if (productRentals.length === 0) {
                alert('–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏
            const modalHtml = `
                <div id="rental-modal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000; padding: 20px;">
                    <div style="background: white; padding: 20px; border-radius: 8px; max-width: 500px; width: 100%; max-height: 80vh; overflow-y: auto;">
                        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏: ${product.name}</h3>
                        <div id="rental-list">
                            ${productRentals.map(rental => {
                                const user = users.find(u => u.id === rental.userId);
                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞–π–¥–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
                                if (!user) {
                                    return `
                                        <div style="border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 4px; background-color: #f8d7da;">
                                            <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> –ù–µ –Ω–∞–π–¥–µ–Ω (ID: ${rental.userId})</p>
                                            <p><strong>–û—à–∏–±–∫–∞:</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω</p>
                                            <button class="btn btn-secondary" onclick="cleanupRental(${rental.id})" style="width: 100%;">
                                                –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –∑–∞–∫–∞–∑–∞
                                            </button>
                                        </div>
                                    `;
                                }
                                
                                const rentDate = new Date(rental.rentDate).toLocaleDateString();
                                
                                return `
                                    <div style="border: 2px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 8px;">
                                        <p style= 'margin-bottom: 10px;' ><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> ${user.username}</p>
                                        <p style= 'margin-bottom: 10px;'><strong>Email:</strong> ${user.email}</p>
                                        <p style= 'margin-bottom: 10px;' ><strong>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞:</strong> ${rentDate}</p>
                                        <p style= 'margin-bottom: 10px;' ><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</strong> ${rental.quantity} –∫–≥</p>
                                        <button class="btn return-button" onclick="adminReturnProduct(${rental.id}, ${product.id})" style="width: 100%;">
                                            –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
                                        </button>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <button class="btn btn-secondary" onclick="closeRentalModal()" style="width: 100%; margin-top: 10px;">
                            –ó–∞–∫—Ä—ã—Ç—å
                        </button>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∑–∞–∫–∞–∑–æ–≤
        function closeRentalModal() {
            const modal = document.getElementById('rental-modal');
            if (modal) {
                modal.remove();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∑–∞–ø–∏—Å–µ–π –∑–∞–∫–∞–∑–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
        function cleanupRental(rentalId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å –∑–∞–∫–∞–∑–∞?')) {
                rentals = rentals.filter(r => r.id !== rentalId);
                localStorage.setItem('rentals', JSON.stringify(rentals));
                closeRentalModal();
                renderAdminProducts();
                alert('–ó–∞–ø–∏—Å—å –∑–∞–∫–∞–∑–∞ —É–¥–∞–ª–µ–Ω–∞');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
        function adminReturnProduct(rentalId, productId) {
            const rental = rentals.find(r => r.id === rentalId);
            const product = products.find(p => p.id === productId);
            
            if (!rental || !product) {
                alert('–û—à–∏–±–∫–∞: –∑–∞–∫–∞–∑ –∏–ª–∏ –º–∞—Ç–µ—Ä–∏–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                return;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –≤–æ–∑–≤—Ä–∞—Ç–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞)
            rental.returnDate = new Date().toISOString();
            localStorage.setItem('rentals', JSON.stringify(rentals));

            
            const user = users.find(u => u.id === rental.userId);
            
            alert(`–ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${user.username} –ø–æ–ª—É—á–∏–ª ${rental.quantity} –∫–≥ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ "${product.name}".`);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            closeRentalModal();
            renderAdminProducts();
            renderAdminStats();
        }

        // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ HTML
        window.searchAdminProducts = searchAdminProducts;
        window.searchUserProducts = searchUserProducts;
        window.makeAdmin = makeAdmin;
        window.deleteUser = deleteUser;
        window.deleteProduct = deleteProduct;
        window.openOrderModal = openOrderModal;
        window.showRentalsForProduct = showRentalsForProduct;
        window.closeRentalModal = closeRentalModal;
        window.cleanupRental = cleanupRental;
        window.adminReturnProduct = adminReturnProduct;
        window.filterRentalsTable = filterRentalsTable;
        window.addStock = addStock;

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
        const allLinks = document.querySelectorAll('.nav-links a');
        allLinks.forEach((link) => {
            link.addEventListener('click', (event) => {
                if (!document.startViewTransition) {
                    setActiveItem(event.target);
                    return;
                }
                document.startViewTransition(() => setActiveItem(event.target));
            });
        });

        function setActiveItem(element) {
            allLinks.forEach((link) => link.classList.remove("active"));
            element.classList.add("active");
        }

        const logo_link = document.querySelector('.logo_link')
        logo_link.addEventListener('click', function(e) {
            e.preventDefault();
            if (currentUser) {
                showUserContent();
                hideAllForms();
                if (currentUser.isAdmin) {
                    hideAdminSections();
                } else {
                    hideUserSections();
                    userHomeEl.classList.remove('hidden');
                }
            } else {
                showGuestContent();
                hideAllForms();
            }
        });
        document.addEventListener('DOMContentLoaded', () => {
            const textParts = document.querySelectorAll('.text-part');
            
            function showTextWithDelay() {
                textParts.forEach((part, index) => {
                    setTimeout(() => {
                        part.classList.add('visible');
                    }, index * 200);
                });
            }
            
            setTimeout(showTextWithDelay, 100);
        });
        function exportToExcel() {
            try {
                // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
                const excelData = [];
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
                const headers = [
                    'ID –∑–∞–∫–∞–∑–∞',
                    '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                    '–ú–∞—Ç–µ—Ä–∏–∞–ª',
                    '–î–∏–∞–º–µ—Ç—Ä (–º–º)',
                    '–¶–≤–µ—Ç',
                    '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–∫–≥)',
                    '–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞',
                    '–°—Ç–∞—Ç—É—Å'
                ];
                excelData.push(headers);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–∫–∞–∑–∞—Ö
                rentals.forEach(rental => {
                    const user = users.find(u => u.id === rental.userId);
                    const product = products.find(p => p.id === rental.productId);
                    
                    if (user && product) {
                        const row = [
                            rental.id,
                            user.username,
                            product.name,
                            product.diameter,
                            product.color,
                            rental.quantity,
                            new Date(rental.rentDate).toLocaleDateString('ru-RU'),
                            rental.returnDate ? '–ó–∞–≤–µ—Ä—à–µ–Ω' : '–ê–∫—Ç–∏–≤–µ–Ω'
                        ];
                        excelData.push(row);
                    }
                });
                
                // –°–æ–∑–¥–∞–µ–º —Ä–∞–±–æ—á—É—é –∫–Ω–∏–≥—É
                const wb = XLSX.utils.book_new();
                const ws = XLSX.utils.aoa_to_sheet(excelData);
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–±–æ—á–∏–π –ª–∏—Å—Ç –≤ –∫–Ω–∏–≥—É
                XLSX.utils.book_append_sheet(wb, ws, '–ó–∞–∫–∞–∑—ã');
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º—è —Ñ–∞–π–ª–∞ —Å –¥–∞—Ç–æ–π
                const date = new Date();
                const fileName = `–∑–∞–∫–∞–∑—ã_${date.getDate().toString().padStart(2, '0')}-${(date.getMonth()+1).toString().padStart(2, '0')}-${date.getFullYear()}.xlsx`;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª
                XLSX.writeFile(wb, fileName);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                alert(`Excel —Ñ–∞–π–ª "${fileName}" —Å–∫–∞—á–∞–Ω!`);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ Excel:', error);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Excel —Ñ–∞–π–ª–∞.');
            }
        }

        function exportToExcelPeople(){
            try{
                const DataPeople = [];
                const header = [
                    'ID ',
                    '–ò–º—è',
                    '–†–æ–ª—å',
                    'Email'
                ]
                DataPeople.push(header);
                users.forEach(user =>{
                    const user_people = users.find(user_people => user_people.email && user_people.password);
                    if(user_people){
                        const row = [
                            user.id,
                            user.username,
                            user.isAdmin,
                            user.email
                        ]
                        DataPeople.push(row);
                    }
                })


                const wb = XLSX.utils.book_new();
                const ws = XLSX.utils.aoa_to_sheet(DataPeople);
                XLSX.utils.book_append_sheet(wb, ws, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏');
                const date = new Date();
                const fileName = `–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏${date.getDate().toString().padStart(2, '0')}-${(date.getMonth()+1).toString().padStart(2, '0')}-${date.getFullYear()}.xlsx`;
                XLSX.writeFile(wb, fileName);
                alert("–£—Å–ø–µ—Ö");
                }

            catch (error){
                console.error('–û—à–∏–±–∫–∞ —Ç–∞–±–ª–∏—Ü—ã ,' , error)
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Excel —Ñ–∞–π–ª–∞.');
            }
        }



        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞
        exportExcelBtn.addEventListener('click', exportToExcel);
        excel_btn_for_pepople.addEventListener('click' , exportToExcelPeople)

        const header = document.querySelectorAll(".accordionHeader")
        header.forEach(header =>{
            header.addEventListener('click' , () =>{
            const currentBody = document.querySelector(".accordionHeader.active")

            // if(currentBody && currentBody !== header){
            //     currentBody.classList.remove('active')
            //     currentBody.nextElementSibling.classList.remove('open')
            // }
            header.classList.toggle('active')
            header.nextElementSibling.classList.toggle('open')

        })
    })


</script>
</body>
</html>
